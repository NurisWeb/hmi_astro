/* ============================================
   Verbindungs-Management Styles
   Industrial HMI Connection UI
   ============================================ */

/* ============================================
   VERBINDUNGS-BUTTON (Header)
   3 Zustände: getrennt, verbindet, verbunden
   ============================================ */

.verbindung-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 14px;
  font-family: 'IBM Plex Sans', sans-serif;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.5px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 160px;
  justify-content: center;
}

/* Zustand A: Nicht verbunden (Grau/Neutral) */
.verbindung-button--getrennt {
  background: linear-gradient(180deg, var(--metal-light) 0%, var(--metal-mid) 100%);
  border: 1px solid var(--glass-border);
  color: var(--text-secondary);
  box-shadow: var(--shadow-sm),
              inset 0 1px 0 var(--metal-highlight);
}

.verbindung-button--getrennt:hover {
  background: linear-gradient(180deg, var(--metal-mid) 0%, var(--metal-light) 100%);
  border-color: var(--color-cyan);
  color: var(--text-primary);
  box-shadow: var(--shadow-md),
              0 0 8px var(--glow-cyan);
}

.verbindung-button--getrennt:active {
  box-shadow: var(--shadow-inset);
  transform: translateY(1px);
}

/* Zustand B: Verbindung wird hergestellt (Gelb/Orange) */
.verbindung-button--verbindet {
  background: linear-gradient(180deg, var(--color-amber) 0%, var(--color-orange) 100%);
  border: 1px solid var(--color-orange);
  color: #1a1d21;
  box-shadow: 0 0 12px var(--glow-orange),
              inset 0 1px 0 rgba(255, 255, 255, 0.3);
  cursor: wait;
  animation: verbindungPulse 1.5s ease-in-out infinite;
}

@keyframes verbindungPulse {
  0%, 100% { 
    opacity: 1;
    box-shadow: 0 0 8px var(--glow-orange),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  50% { 
    opacity: 0.85;
    box-shadow: 0 0 16px var(--glow-orange),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
}

/* Zustand C: Verbunden (Grün) */
.verbindung-button--verbunden {
  background: linear-gradient(180deg, var(--color-green) 0%, #006622 100%);
  border: 1px solid var(--color-green);
  color: white;
  box-shadow: 0 0 8px var(--glow-green),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.verbindung-button--verbunden:hover {
  box-shadow: 0 0 12px var(--glow-green),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Transformation bei Hover: Verbunden → Trennen? */
.verbindung-button--trennen {
  background: linear-gradient(180deg, var(--color-orange) 0%, var(--color-red) 100%);
  border-color: var(--color-red);
  box-shadow: 0 0 12px var(--glow-red),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Disabled State */
.verbindung-button--disabled {
  cursor: not-allowed;
  opacity: 0.8;
}

/* Icon Styles */
.verbindung-icon {
  font-size: 14px;
  line-height: 1;
}

.verbindung-icon--loading {
  animation: iconPulse 1s ease-in-out infinite;
}

@keyframes iconPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.verbindung-icon--warning {
  animation: iconShake 0.5s ease-in-out;
}

@keyframes iconShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}

/* Grüner Punkt für "Verbunden" */
.verbindung-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #6afe87, #00ff44);
  box-shadow: 0 0 6px #00ff44;
  animation: dotPulse 2s ease-in-out infinite;
}

@keyframes dotPulse {
  0%, 100% { 
    opacity: 1;
    box-shadow: 0 0 4px #00ff44;
  }
  50% { 
    opacity: 0.8;
    box-shadow: 0 0 10px #00ff44;
  }
}

/* Text */
.verbindung-text {
  white-space: nowrap;
}

/* Animierte Punkte "..." */
.loading-dots::after {
  content: '';
  animation: loadingDots 1.5s steps(4, end) infinite;
}

@keyframes loadingDots {
  0%, 20% { content: ''; }
  40% { content: '.'; }
  60% { content: '..'; }
  80%, 100% { content: '...'; }
}


/* ============================================
   BLANK-STATE (Nicht verbunden Ansicht)
   Zentrierter CTA-Button
   ============================================ */

.blankstate {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  min-height: 400px;
  padding: 40px;
}

.blankstate-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 48px 64px;
  background: linear-gradient(180deg, var(--metal-mid) 0%, var(--metal-dark) 100%);
  border: 2px solid var(--glass-border);
  border-radius: 12px;
  box-shadow: var(--shadow-lg),
              inset 0 1px 0 var(--metal-highlight);
  max-width: 420px;
  width: 100%;
}

.blankstate-content--loading {
  border-color: var(--color-amber);
  box-shadow: var(--shadow-lg),
              0 0 20px var(--glow-orange),
              inset 0 1px 0 var(--metal-highlight);
}

.blankstate-content--error {
  border-color: var(--color-red);
  box-shadow: var(--shadow-lg),
              0 0 20px var(--glow-red),
              inset 0 1px 0 var(--metal-highlight);
}

/* Icon */
.blankstate-icon {
  font-size: 56px;
  margin-bottom: 20px;
  line-height: 1;
  opacity: 0.9;
}

.blankstate-icon--loading {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.blankstate-icon--error {
  color: var(--color-red);
  animation: errorPulse 1s ease-in-out infinite;
}

@keyframes errorPulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
}

/* Spinner Animation */
.blankstate-spinner {
  width: 56px;
  height: 56px;
  border: 4px solid var(--glass-border);
  border-top-color: var(--color-amber);
  border-radius: 50%;
  animation: spinnerRotate 1s linear infinite;
}

@keyframes spinnerRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Titel */
.blankstate-title {
  font-family: 'IBM Plex Sans', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: 1px;
  margin-bottom: 8px;
}

.blankstate-title--error {
  color: var(--color-red);
}

/* Untertitel */
.blankstate-subtitle {
  font-family: 'IBM Plex Sans', sans-serif;
  font-size: 13px;
  font-weight: 400;
  color: var(--text-secondary);
  margin-bottom: 28px;
  line-height: 1.5;
}

.blankstate-subtitle--loading {
  color: var(--color-amber);
}

.blankstate-subtitle--error {
  color: var(--text-dim);
  max-width: 280px;
}

/* CTA Button */
.blankstate-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 16px 32px;
  font-family: 'IBM Plex Sans', sans-serif;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  background: linear-gradient(180deg, var(--color-cyan) 0%, var(--color-blue) 100%);
  border: 2px solid var(--color-cyan);
  border-radius: 6px;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 0 12px var(--glow-cyan),
              var(--shadow-md),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
  min-width: 200px;
}

.blankstate-button:hover {
  background: linear-gradient(180deg, var(--color-blue) 0%, var(--color-cyan) 100%);
  box-shadow: 0 0 20px var(--glow-cyan),
              var(--shadow-lg),
              inset 0 1px 0 rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.blankstate-button:active {
  transform: translateY(0);
  box-shadow: var(--shadow-inset),
              0 0 8px var(--glow-cyan);
}

/* Retry Button (nach Fehler) */
.blankstate-button--retry {
  background: linear-gradient(180deg, var(--color-orange) 0%, var(--color-red) 100%);
  border-color: var(--color-orange);
  box-shadow: 0 0 12px var(--glow-orange),
              var(--shadow-md),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.blankstate-button--retry:hover {
  background: linear-gradient(180deg, var(--color-red) 0%, #991b1b 100%);
  border-color: var(--color-red);
  box-shadow: 0 0 20px var(--glow-red),
              var(--shadow-lg),
              inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.blankstate-button-icon {
  font-size: 18px;
  line-height: 1;
}

.blankstate-button-text {
  white-space: nowrap;
}

/* Fortschrittsbalken */
.blankstate-progress {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  width: 100%;
  max-width: 280px;
  margin-top: 8px;
}

.blankstate-progress-bar {
  width: 100%;
  height: 8px;
  background: var(--metal-dark);
  border: 1px solid var(--glass-border);
  border-radius: 4px;
  overflow: hidden;
}

.blankstate-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-amber) 0%, var(--color-green) 100%);
  border-radius: 3px;
  transition: width 0.3s ease;
  box-shadow: 0 0 8px var(--glow-green);
}

.blankstate-progress-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  font-weight: 600;
  color: var(--color-amber);
  text-shadow: 0 0 4px var(--glow-orange);
}


/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 600px) {
  .verbindung-button {
    min-width: 140px;
    padding: 6px 10px;
    font-size: 10px;
  }
  
  .blankstate {
    padding: 20px;
    min-height: 300px;
  }
  
  .blankstate-content {
    padding: 32px 24px;
  }
  
  .blankstate-icon {
    font-size: 42px;
  }
  
  .blankstate-title {
    font-size: 16px;
  }
  
  .blankstate-button {
    padding: 14px 24px;
    font-size: 12px;
    min-width: 160px;
  }
}

/* Touch-Friendly auf Tablets */
@media (pointer: coarse) {
  .verbindung-button {
    min-height: 44px;
    padding: 8px 16px;
  }
  
  .blankstate-button {
    min-height: 56px;
    padding: 18px 36px;
  }
}
