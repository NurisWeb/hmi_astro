/* ============================================
   GaugeGrid Layout Styles - OPTIMIERT
   Prüfstand Dashboard - Strukturiertes Layout
   HMI-Anforderung: Alles auf einen Blick, KEINE Scrollbars!
   
   EXPANDED (Normal, >= 1024px):
   ┌─────────────────────────────────────────────────────────────────────────────┐
   │  LINKS (6 Gauges)       │   MITTE (Motor+Balken)   │  RECHTS (2 Gauges)    │
   │  ┌─────┬─────┬─────┐    │  ┌─────────────────┐     │  ┌─────────────────┐  │
   │  │ K1  │ K2  │ Sys │    │  │   ANTRIEBMOTOR  │     │  │ Drehz. Ausgleich│  │
   │  │Öldr.│Öldr.│Öldr.│    │  │    (medium)     │     │  ├─────────────────┤  │
   │  ├─────┼─────┼─────┤    │  ├────────┬────────┤     │  │ Prüfst. Auslast.│  │
   │  │EDiff│T.Hyd│T.Rad│    │  │  KWB1  │  KWB2  │     │  └─────────────────┘  │
   │  │Öldr.│     │     │    │  ├────────┼────────┤     │                       │
   │  └─────┴─────┴─────┘    │  │Drehz K1│Drehz K2│     │                       │
   │                         │  └────────┴────────┘     │                       │
   └─────────────────────────────────────────────────────────────────────────────┘
   
   COMPACT (Menu offen):
   ┌────────────────────────────────────────────────────────────────────┐
   │ K1 K2 Sys Ediff │ Motor │ KWB1 KWB2 │ DK1 DK2 Ausg Ausl │ T1 T2  │
   └────────────────────────────────────────────────────────────────────┘
   ============================================ */

/* ============================================
   WICHTIG: KEINE SCROLLBARS IN HMI!
   ============================================ */
.gauge-grid,
.gauge-section,
.gauge-grid-6,
.gauge-balken-row,
.gauge-row-vertical {
  overflow: visible !important;
}

/* ============================================
   HAUPTCONTAINER
   ============================================ */
.gauge-grid {
  display: flex;
  justify-content: center;
  gap: 16px;
  width: 100%;
  padding: 12px;
  transition: all 0.3s ease;
}

/* ============================================
   EXPANDED MODE - 3 Spalten Layout
   ============================================ */
.gauge-grid.expanded {
  flex-direction: row;
  flex-wrap: wrap;
  gap: 20px;
  padding: 16px;
  align-items: stretch;
}

/* ============================================
   COMPACT MODE - Horizontale Leiste
   Alle Gauges in einer Reihe
   ============================================ */
.gauge-grid.compact {
  flex-direction: row;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px 12px;
  background: linear-gradient(180deg, var(--metal-mid) 0%, var(--metal-dark) 100%);
  border: 1px solid var(--glass-border);
  border-radius: 4px;
  box-shadow: var(--shadow-md),
              inset 0 1px 0 var(--metal-highlight);
  align-items: stretch;
  justify-content: center;
}

/* ============================================
   SEKTIONEN (Links, Mitte, Rechts)
   ============================================ */
.gauge-section {
  display: flex;
  flex-direction: column;
  gap: 10px;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

/* EXPANDED: Vertikale Sektionen */
.gauge-grid.expanded .gauge-section {
  flex-direction: column;
}

.gauge-grid.expanded .gauge-section--left {
  align-items: center;
}

.gauge-grid.expanded .gauge-section--center {
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
}

.gauge-grid.expanded .gauge-section--right {
  align-items: center;
  justify-content: flex-start;
}

/* COMPACT: Horizontale Sektionen nebeneinander */
.gauge-grid.compact .gauge-section {
  flex-direction: row;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
  justify-content: center;
}

.gauge-grid.compact .gauge-section--left,
.gauge-grid.compact .gauge-section--center,
.gauge-grid.compact .gauge-section--right {
  align-items: center;
}

/* Trennlinie zwischen Sektionen im Compact Mode */
.gauge-grid.compact .gauge-section--left::after,
.gauge-grid.compact .gauge-section--center::after {
  content: '';
  width: 1px;
  height: 80%;
  background: linear-gradient(180deg, 
    transparent 0%, 
    var(--glass-border) 20%, 
    var(--glass-border) 80%, 
    transparent 100%);
  margin-left: 8px;
  flex-shrink: 0;
}

/* ============================================
   6-GAUGE GRID (Links) - 3x2 Layout
   ============================================ */
.gauge-grid-6 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(2, auto);
  gap: 10px;
  justify-items: center;
  align-items: start;
}

/* Responsive für 6-Grid */
@media (max-width: 768px) {
  .gauge-grid-6 {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, auto);
  }
}

/* ============================================
   BALKEN-REIHE für KWB und Drehzahl
   ============================================ */
.gauge-balken-row {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: stretch;
  width: 100%;
}

.gauge-balken-row > * {
  flex: 1;
  min-width: 100px;
  max-width: 140px;
}

/* Compact Mode */
.gauge-grid.compact .gauge-balken-row {
  gap: 6px;
}

.gauge-grid.compact .gauge-balken-row > * {
  min-width: 80px;
  max-width: 120px;
}

/* ============================================
   RECHTE SPALTE VERTIKAL
   ============================================ */
.gauge-row-vertical {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

/* ============================================
   LEGACY: ZEILEN (2 Gauges nebeneinander)
   ============================================ */
.gauge-row {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-shrink: 0;
}

.gauge-grid.expanded .gauge-row {
  gap: 12px;
}

.gauge-grid.compact .gauge-row {
  gap: 6px;
  flex-direction: row;
}

/* ============================================
   TRIPLE ROW - 3 Gauges nebeneinander
   ============================================ */
.gauge-row--triple {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-shrink: 0;
}

.gauge-grid.expanded .gauge-row--triple {
  gap: 14px;
}

.gauge-grid.compact .gauge-row--triple {
  gap: 6px;
}

/* ============================================
   MOTOR (Zentral)
   ============================================ */
.gauge-center-motor {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
}

.gauge-grid.compact .gauge-center-motor {
  transform: scale(0.85);
  margin: 0 4px;
}

/* ============================================
   LEGACY: BREMSEN REIHE (Falls noch verwendet)
   ============================================ */
.gauge-bremsen-row {
  display: flex;
  gap: 12px;
  justify-content: center;
  align-items: center;
  padding: 8px 12px;
  background: linear-gradient(180deg, 
    rgba(0, 0, 0, 0.05) 0%, 
    rgba(0, 0, 0, 0.1) 100%);
  border-radius: 6px;
  border: 1px solid var(--glass-border);
  flex-shrink: 0;
}

.gauge-grid.compact .gauge-bremsen-row {
  gap: 8px;
  padding: 4px 8px;
  background: transparent;
  border: none;
}

/* ============================================
   ANIMATION - Sanftes Erscheinen
   ============================================ */
@keyframes gaugeAppear {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.gauge-section {
  animation: gaugeAppear 0.3s ease forwards;
}

.gauge-section--left { animation-delay: 0ms; }
.gauge-section--center { animation-delay: 40ms; }
.gauge-section--right { animation-delay: 80ms; }

/* ============================================
   HOVER EFFEKTE
   ============================================ */
.gauge-row:hover,
.gauge-balken-row:hover {
  z-index: 5;
}

/* ============================================
   RESPONSIVE - Sehr große Bildschirme (>= 1400px)
   3 Spalten nebeneinander, großzügige Abstände
   ============================================ */
@media (min-width: 1400px) {
  .gauge-grid.expanded {
    gap: 30px;
    padding: 20px;
  }
  
  .gauge-grid-6 {
    gap: 14px;
  }
  
  .gauge-balken-row {
    gap: 12px;
  }
  
  .gauge-balken-row > * {
    max-width: 160px;
  }
  
  .gauge-row-vertical {
    gap: 14px;
  }
}

/* ============================================
   RESPONSIVE - Große Bildschirme (1024-1399px)
   3 Spalten, engere Abstände
   ============================================ */
@media (min-width: 1024px) and (max-width: 1399px) {
  .gauge-grid.expanded {
    gap: 16px;
    padding: 12px;
  }
  
  .gauge-grid-6 {
    gap: 8px;
  }
  
  .gauge-balken-row {
    gap: 6px;
  }
  
  .gauge-balken-row > * {
    min-width: 90px;
    max-width: 120px;
  }
}

/* ============================================
   RESPONSIVE - Tablet (768-1023px)
   Motor oben (volle Breite), Links+Rechts darunter
   ============================================ */
@media (min-width: 768px) and (max-width: 1023px) {
  .gauge-grid.expanded {
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
  }

  .gauge-grid.expanded .gauge-section--center {
    order: -1;
    width: 100%;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 16px;
  }
  
  .gauge-grid.expanded .gauge-center-motor {
    width: 100%;
    justify-content: center;
  }

  .gauge-grid.expanded .gauge-section--left,
  .gauge-grid.expanded .gauge-section--right {
    flex: 1;
    min-width: 280px;
    align-items: center;
  }
  
  .gauge-row-vertical {
    flex-direction: row;
    gap: 12px;
  }
}

/* ============================================
   RESPONSIVE - Mobile (< 768px)
   Alles untereinander, 6-Grid wird 2x3
   ============================================ */
@media (max-width: 767px) {
  .gauge-grid.expanded {
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  .gauge-grid.expanded .gauge-section--left,
  .gauge-grid.expanded .gauge-section--center,
  .gauge-grid.expanded .gauge-section--right {
    width: 100%;
    align-items: center;
  }
  
  .gauge-grid-6 {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, auto);
    gap: 8px;
  }

  .gauge-grid.expanded .gauge-row {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .gauge-balken-row {
    flex-wrap: wrap;
    gap: 6px;
  }
  
  .gauge-balken-row > * {
    min-width: 120px;
    max-width: 150px;
  }
  
  .gauge-row-vertical {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }

  .gauge-grid.expanded .gauge-bremsen-row {
    width: 100%;
    max-width: 300px;
  }
}

/* ============================================
   RESPONSIVE - Kleine Mobile (< 480px)
   ============================================ */
@media (max-width: 480px) {
  .gauge-grid {
    padding: 8px;
    gap: 8px;
  }

  .gauge-row {
    gap: 6px;
  }

  .gauge-bremsen-row {
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  
  .gauge-grid-6 {
    gap: 6px;
  }
  
  .gauge-balken-row > * {
    min-width: 100%;
    max-width: 100%;
  }
}

/* ============================================
   HEIGHT-COMPACT MODE
   Für kleine Laptops mit Höhe < 750px
   Motor links, 3 Spalten mit Balken untereinander
   KEIN SCROLLEN - Alles auf einen Blick!
   ============================================ */

.gauge-grid--height-compact {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: center;
  gap: 16px;
  padding: 12px 20px;
  background: linear-gradient(180deg, var(--metal-mid) 0%, var(--metal-dark) 100%);
  border: 1px solid var(--glass-border);
  border-radius: 6px;
  box-shadow: var(--shadow-md);
  /* Kein Overflow! Alles sichtbar */
  overflow: visible;
}

/* Motor-Gauge im Height-Compact Mode (links) */
.gauge-compact-motor {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-right: 16px;
  border-right: 1px solid var(--glass-border);
}

/* Spalten für Balken (untereinander) */
.gauge-compact-column {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex: 1;
  max-width: 140px;
}

/* ============================================
   RESPONSIVE - Kleine Bildschirmhöhe
   ============================================ */
@media (max-height: 750px) {
  .gauge-grid.expanded {
    padding: 8px 12px;
    gap: 12px;
  }
  
  .gauge-section {
    gap: 6px;
  }
  
  .gauge-row {
    gap: 8px;
  }
  
  .gauge-bremsen-row {
    padding: 4px 8px;
    gap: 8px;
  }
  
  .gauge-grid-6 {
    gap: 6px;
  }
  
  .gauge-balken-row {
    gap: 6px;
  }
}

@media (max-height: 700px) {
  .gauge-grid--height-compact {
    padding: 8px 12px;
    gap: 10px;
  }
  
  .gauge-compact-motor {
    padding-right: 10px;
  }
  
  .gauge-compact-column {
    gap: 4px;
    max-width: 120px;
  }
}

@media (max-height: 600px) {
  .gauge-grid--height-compact {
    padding: 6px 10px;
    gap: 8px;
  }
  
  .gauge-compact-column {
    gap: 3px;
    max-width: 110px;
  }
}
